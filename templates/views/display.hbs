<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Display</title>
</head>
<body>

    
    <table class="table">
        <thead>
          <tr>
            <th scope="col">SocketID</th>
          </tr>
        </thead>
        <tbody>
            {{#each users}}
                <tr>
                 <td scope="row" id = {{socketid}}>{{socketid}}</td>
                 <td  style="display:none;" id = 'email'>{{email}}</td>
                 <td style="display:none;" id = "username">{{username}}</td>
                 <td style="display:none;" id = "room">{{room}}</td>
                </tr>
            {{/each}}
        </tbody>
      </table>


      <script> 

        function givealert(data){
            alert(data);
        }
        
        document.addEventListener('click',async function(e){
        if(e.target){
            const id = e.target.id;
            const parent = document.getElementById(id).parentElement;
            const collection = parent.children;
            const data = `                           Socket id: ${collection[0].innerHTML} 
                           Email: ${collection[1].innerHTML}   
                           Username: ${collection[2].innerHTML}     
                           Room:  ${collection[3].innerHTML}`
            givealert(data);
        }
       });
      </script>
</body>
</html>